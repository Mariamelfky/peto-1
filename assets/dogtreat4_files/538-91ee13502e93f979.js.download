"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[538],{71147:function(e,n,s){s.d(n,{Z:function(){return F}});var i=s(47568),t=s(14924),a=s(10253),o=s(70655),r=s(85893);s(93649),s(22543),s(59127),s(38288);var u=s(67294),d=s(2031),l=s(94184),c=s.n(l),m=s(96486),v=s(41622),g=s(91354),h=s(43875),p=s(38310),f=s(18766),k=s(52931),b=s(94518),x=s(73990),q=s(87918),j=s(53486),_=s(22926),N=s.n(_),Q=s(42409),C=s(25982),Z=s(26042),w=s(7297),y=s(49685),A=s(50319);function S(){var e=(0,w.Z)(["\n  mutation SubmitQuestion($input: SubmitQuestionInput!) {\n    submitQuestion(input: $input)\n  }\n"]);return S=function(){return e},e}var T={},L=(0,y.Ps)(S()),E=s(17796);s(93629);var M=s(27286),I=s(64089),D=function(){var e=(0,d.$)().t,n=(0,b.Eu)(),s=n.isAuthenticated,i=n.loading,t=n.redirectToLogin,a=(0,Q.k5)(),o=a.showAskAQuestionForm,u=a.setShowAskAQuestionForm,l=function(){s?u(!o):t({scrollTo:I.dd})};return(0,r.jsxs)("div",{className:N().firstQuestion,"data-testid":"first-question",children:[(0,r.jsx)("div",{className:N().firstQuestionTitle,children:e("ugc.qa.firstQuestionTitle")}),(0,r.jsx)(M.Z,{className:N().divider}),!o&&(0,r.jsx)(v.O,{onClick:l,size:"medium",emphasis:"secondary",disabled:i,className:N().askButton,children:e("ugc.qa.askCallout")})]})},F=function(e){var n,s,l,_=e.firstQuestion,w=e.partNumber,y=e.className,S=(0,d.$)().t,M=(0,Q.k5)(),F=M.showAskAQuestionForm,B=M.setShowAskAQuestionForm,Y=(0,b.Eu)(),$=Y.isAuthenticated,J=Y.loading,O=Y.redirectToLogin,G=(0,a.Z)((0,f._)(I.lp,""),2),H=G[0],R=G[1],U=(0,u.useState)(""),z=U[0],P=U[1],V=(0,u.useState)(""),X=V[0],K=V[1],W=(0,u.useState)(!1),ee=W[0],en=W[1],es=(0,a.Z)((0,x.R)(I.Rg),3),ei=es[0],et=es[1],ea=es[2],eo=(0,a.Z)((s=(0,Z.Z)({},T,void 0),A.D(L,s)),2),er=eo[0],eu=eo[1],ed=(0,k.S)(I.dd),el=function(e){e.preventDefault(),(0,q.u9)(q.Ym,q.Jy,"cancel"),B(!1)},ec=function(){(0,q.u9)(q.Ym,"Terms & Conditions - Ask Question",q.h5)};(0,u.useEffect)(function(){!ed||J||$||O({scrollTo:I.dd}),ed&&B(!0)},[ed,B,$,O,J]),(0,u.useEffect)(function(){F&&en(!1)},[F]),(0,u.useEffect)(function(){H&&K(H)},[H]);var em=(l=(0,i.Z)(function(e){var n;return(0,o.__generator)(this,function(s){switch(s.label){case 0:if(e.preventDefault(),(0,q.u9)(q.Ym,q.Jy,"submit"),!ea({nickname:X},"nickname"))return[2,!1];R(X),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,er({variables:{input:{partNumber:w,questionDetails:z,userNickname:X,deviceFingerprint:window.ioGetBlackbox().blackbox}}})];case 2:return s.sent(),P(""),en(!0),B(!1),(0,q.u9)(q.Ym,q.Jy,"success"),[3,4];case 3:return n=s.sent(),(0,j.S)("UGC Submit Question Error ".concat(n)),[3,4];case 4:return[2]}})}),function(e){return l.apply(this,arguments)});return(0,r.jsxs)("section",{ref:ed,className:c()(N().askAQuestion,y,(n={},(0,t.Z)(n,N().collapsed,!F),(0,t.Z)(n,"kib-grid__item",F),(0,t.Z)(n,"kib-grid__item--span-4@xs",F),(0,t.Z)(n,"kib-grid__item--span-4@sm",F),(0,t.Z)(n,"kib-grid__item--span-8@md",F),(0,t.Z)(n,"kib-grid__item--span-12@lg",F),(0,t.Z)(n,"kib-grid__item--span-12@xl",F),n)),"data-testid":"ask-a-question",children:[!!_&&(0,r.jsx)(D,{}),!ee&&(0,r.jsxs)("div",{className:c()(N().formContent,!!_&&N().center,!F&&N().collapsed),children:[(0,r.jsxs)("form",{onSubmit:em,children:[(0,r.jsx)(g.H,{value:z,required:!0,input:P,maxLength:I.X4,minLength:I.eC,messages:{valueMissing:S("ugc.qa.questionValueMissing"),tooLong:S("ugc.qa.questionTooLong",{amnt:I.X4}),tooShort:S("ugc.qa.questionTooShort",{amnt:I.eC})},label:S("ugc.qa.questionTextLabel")}),(0,r.jsx)(h.u,{value:X,required:!0,input:function(e){et({}),K(e.toString())},maxLength:I.C_,minLength:I.yv,invalid:!(0,m.isEmpty)(ei),messagesContent:null==ei?void 0:ei.nickname,messages:{valueMissing:S("ugc.qa.nicknameValueMissing"),tooLong:S("ugc.qa.nicknameTooLong",{amnt:I.C_}),tooShort:S("ugc.qa.nicknameTooShort",{amnt:I.yv})},label:S("ugc.qa.nicknameLabel")}),(0,r.jsxs)("div",{className:N().buttons,children:[(0,r.jsx)(v.O,{className:N().cancelButton,emphasis:"secondary",disabled:eu.loading,onClick:el,type:"button",children:S("ugc.qa.cancelForm")}),(0,r.jsx)(v.O,{className:N().submitButton,type:"submit",disabled:eu.loading,children:S("ugc.qa.submitQuestion")})]})]}),(0,r.jsx)(C.K,{onTermsAndConditionsClick:ec})]}),ee&&(0,r.jsx)(E.Z,{className:c()(N().askAQuestionThanks,!!_&&N().center),text:S("ugc.qa.questionThanks",{nickname:X})}),F&&eu.error&&(0,r.jsx)("div",{className:N().errorAlert,"data-testid":"ask-a-question-error-alert",children:(0,r.jsx)(p.N,{severity:"danger",children:eu.error.message})})]})}},64538:function(e,n,s){s.d(n,{BM:function(){return q}});var i=s(72312),t=s(85893);s(93649),s(93629);var a=s(67294),o=s(94184),r=s.n(o),u=s(41622),d=s(27286),l=s(2031),c=s(87918),m=s(71147),v=s(49829),g=s(22926),h=s.n(g),p=s(42409),f=s(67036),k=s(68116),b=["kib-grid__item","kib-grid__item--span-4@xs","kib-grid__item--span-4@sm","kib-grid__item--span-8@md","kib-grid__item--span-12@lg","kib-grid__item--span-12@xl",],x=(0,a.forwardRef)(function(e,n){var s,a,o,g,x,q,j,_,N,Q=e.className,C=e.product,Z=e.showQuestionUrls,w=(0,l.$)().t,y=C.entryID,A=(0,i.jJ)({variables:{id:y}}),S=A.data,T=A.previousData,L=A.fetchMore,E=null!==(j=null==S?void 0:null===(s=S.product)||void 0===s?void 0:s.questions)&&void 0!==j?j:null==T?void 0:null===(a=T.product)||void 0===a?void 0:a.questions,M=null!==(_=null==S?void 0:null===(o=S.product)||void 0===o?void 0:null===(g=o.questions)||void 0===g?void 0:g.pageInfo.hasNextPage)&&void 0!==_&&_,I=null!==(N=null==E?void 0:E.totalCount)&&void 0!==N?N:0,D=I>0,F=function(){var e,n;(0,c.u9)(c.Ym,"show-more-questions","click"),L({variables:{id:y,after:null==S?void 0:null===(e=S.product)||void 0===e?void 0:null===(n=e.questions)||void 0===n?void 0:n.pageInfo.endCursor}})};return(0,t.jsx)(p.gr,{children:(0,t.jsxs)("section",{ref:n,className:r()(h().root,Q,"kib-grid"),"data-testid":"questions-and-answers",children:[(0,t.jsxs)("div",{className:r()(h().headerContainer,b,"js-tracked-viewport-based-event"),"data-event-category":"pdp","data-event-action":"impression","data-event-label":"qa",children:[(0,t.jsx)(v.Z,{hasCallout:D})," "]}),(0,t.jsx)(m.Z,{className:r()(b),firstQuestion:!D,partNumber:C.partNumber}),D&&(0,t.jsxs)("div",{className:r()(h().listHeader,b),children:[(0,t.jsx)("h3",{children:w("ugc.qa.questionsListHeader",{amnt:I})}),(0,t.jsx)(d.Z,{className:h().divider})]}),E&&!!(null===(x=E.edges)||void 0===x?void 0:x.length)&&(0,t.jsxs)("div",{className:r()(b),children:[null==E?void 0:null===(q=E.edges)||void 0===q?void 0:q.map(function(e,n){var s;return(null==e?void 0:e.node)&&(null==e?void 0:e.node.contentId)&&(0,t.jsxs)("div",{children:[(0,t.jsx)(f.Z,{questionId:null==e?void 0:e.node.contentId,questionText:null==e?void 0:e.node.text,answers:null===(s=null==e?void 0:e.node.answers)||void 0===s?void 0:s.edges,questionUrl:Z?(0,k.zG)(C,null==e?void 0:e.node.questionId):""}),I!==n+1&&(0,t.jsx)(d.Z,{className:h().divider})]},n)})," "]}),M&&(0,t.jsx)("div",{className:r()(b,h().showMoreQuestionsContainer),children:(0,t.jsx)(u.O,{className:h().showMoreQuestions,emphasis:"secondary",onClick:function(){return F()},type:"button",children:w("ugc.qa.showMoreQuestions")})})]})})});x.displayName="QuestionsAndAnswers";var q=x}}]);
//# sourceMappingURL=538-91ee13502e93f979.js.map